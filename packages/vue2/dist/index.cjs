"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const n=require("@dual-datepicker/core");function o(t,e,a,r,s,i,d,h){var l=typeof t=="function"?t.options:t;return e&&(l.render=e,l.staticRenderFns=a,l._compiled=!0),i&&(l._scopeId="data-v-"+i),{exports:t,options:l}}const u={name:"CalendarHeader",props:{monthName:{type:String,required:!0},year:{type:Number,required:!0},currentMonth:{type:Number,required:!0},calendar:{type:String,required:!0},locale:{type:String,required:!0}},data(){return{showMonthPicker:!1,showYearPicker:!1,yearDecade:this.year}},computed:{isRTL(){return n.getLocale(this.locale).direction==="rtl"},localeConfig(){return n.getLocale(this.locale)},formattedYear(){return n.formatNumber(this.year,this.localeConfig)},adapter(){return this.calendar==="hijri"?new n.HijriAdapter:new n.GregorianAdapter},decadeStart(){return Math.floor(this.yearDecade/10)*10},decadeEnd(){return this.decadeStart+9},yearOptions(){const t=[];for(let e=0;e<12;e++)t.push(this.decadeStart+e);return t}},watch:{year(t){this.yearDecade=t}},methods:{formatNumber:n.formatNumber,onCalendarChange(t){this.$emit("update:calendar",t.target.value)},onLocaleChange(t){this.$emit("update:locale",t.target.value)},toggleMonthPicker(){this.showMonthPicker=!this.showMonthPicker,this.showYearPicker=!1},toggleYearPicker(){this.showYearPicker=!this.showYearPicker,this.showMonthPicker=!1,this.yearDecade=this.year},closeMonthPicker(){this.showMonthPicker=!1},closeYearPicker(){this.showYearPicker=!1},getMonthNameByIndex(t){return this.adapter.getMonthName(t,this.localeConfig)},selectMonth(t){this.$emit("select-month",t)},selectYear(t){this.$emit("select-year",t)},previousDecade(){this.yearDecade=this.decadeStart-10},nextDecade(){this.yearDecade=this.decadeStart+10},goToTodayMonth(){const t=this.adapter.today();this.$emit("select-month",t.month),this.closeMonthPicker()},goToTodayYear(){const t=this.adapter.today();this.$emit("select-year",t.year),this.yearDecade=t.year,this.closeYearPicker()},handleOutsideClick(t){this.$el.contains(t.target)||(this.showMonthPicker=!1,this.showYearPicker=!1)}},mounted(){document.addEventListener("click",this.handleOutsideClick)},beforeDestroy(){document.removeEventListener("click",this.handleOutsideClick)}};var p=function(){var e=this,a=e._self._c;return a("div",{staticClass:"calendar-header"},[a("div",{staticClass:"calendar-header__navigation"},[a("button",{staticClass:"calendar-header__btn",attrs:{type:"button","aria-label":e.isRTL?"Next year":"Previous year"},on:{click:function(r){return e.$emit("next-year")}}},[e._v(" « ")]),a("button",{staticClass:"calendar-header__btn",attrs:{type:"button","aria-label":e.isRTL?"Next month":"Previous month"},on:{click:function(r){return e.$emit("next-month")}}},[e._v(" ‹ ")]),a("div",{staticClass:"calendar-header__current"},[a("button",{staticClass:"calendar-header__month calendar-header__month--clickable",attrs:{type:"button","aria-label":"Select month"},on:{click:e.toggleMonthPicker}},[e._v(" "+e._s(e.monthName)+" ")]),a("button",{staticClass:"calendar-header__year calendar-header__year--clickable",attrs:{type:"button","aria-label":"Select year"},on:{click:e.toggleYearPicker}},[e._v(" "+e._s(e.formattedYear)+" ")]),e.showMonthPicker?a("div",{staticClass:"calendar-header__modal",attrs:{dir:e.localeConfig.direction==="rtl"?"rtl":"ltr"},on:{click:function(r){return r.target!==r.currentTarget?null:e.closeMonthPicker.apply(null,arguments)}}},[a("div",{staticClass:"calendar-header__modal-content"},[a("div",{staticClass:"calendar-header__modal-header"},[a("span",[e._v(e._s(e.localeConfig.code==="ar"?"اختر الشهر":"Select Month"))]),a("button",{staticClass:"calendar-header__modal-close",attrs:{type:"button","aria-label":"Close"},on:{click:e.closeMonthPicker}},[e._v(" × ")])]),a("div",{staticClass:"calendar-header__month-grid"},e._l(12,function(r){return a("button",{key:r,staticClass:"calendar-header__month-grid-item",class:{"calendar-header__month-grid-item--active":r===e.currentMonth},attrs:{type:"button"},on:{click:function(s){return e.selectMonth(r)}}},[e._v(" "+e._s(e.getMonthNameByIndex(r))+" ")])}),0),a("div",{staticClass:"calendar-header__modal-actions"},[a("button",{staticClass:"calendar-header__modal-btn",attrs:{type:"button"},on:{click:e.goToTodayMonth}},[e._v(" "+e._s(e.localeConfig.code==="ar"?"الآن":"Now")+" ")]),a("button",{staticClass:"calendar-header__modal-btn calendar-header__modal-btn--primary",attrs:{type:"button"},on:{click:e.closeMonthPicker}},[e._v(" "+e._s(e.localeConfig.code==="ar"?"حسنا":"OK")+" ")])])])]):e._e(),e.showYearPicker?a("div",{staticClass:"calendar-header__modal",attrs:{dir:e.localeConfig.direction==="rtl"?"rtl":"ltr"},on:{click:function(r){return r.target!==r.currentTarget?null:e.closeYearPicker.apply(null,arguments)}}},[a("div",{staticClass:"calendar-header__modal-content"},[a("div",{staticClass:"calendar-header__modal-header"},[a("button",{staticClass:"calendar-header__modal-nav",attrs:{type:"button","aria-label":e.isRTL?"Next decade":"Previous decade"},on:{click:e.previousDecade}},[e._v(" « ")]),a("span",[e._v(e._s(e.decadeStart)+" - "+e._s(e.decadeEnd))]),a("button",{staticClass:"calendar-header__modal-nav",attrs:{type:"button","aria-label":e.isRTL?"Previous decade":"Next decade"},on:{click:e.nextDecade}},[e._v(" » ")]),a("button",{staticClass:"calendar-header__modal-close",attrs:{type:"button","aria-label":"Close"},on:{click:e.closeYearPicker}},[e._v(" × ")])]),a("div",{staticClass:"calendar-header__year-grid"},e._l(e.yearOptions,function(r){return a("button",{key:r,staticClass:"calendar-header__year-grid-item",class:{"calendar-header__year-grid-item--active":r===e.year},attrs:{type:"button"},on:{click:function(s){return e.selectYear(r)}}},[e._v(" "+e._s(e.formatNumber(r,e.localeConfig))+" ")])}),0),a("div",{staticClass:"calendar-header__modal-actions"},[a("button",{staticClass:"calendar-header__modal-btn",attrs:{type:"button"},on:{click:e.goToTodayYear}},[e._v(" "+e._s(e.localeConfig.code==="ar"?"الآن":"Now")+" ")]),a("button",{staticClass:"calendar-header__modal-btn calendar-header__modal-btn--primary",attrs:{type:"button"},on:{click:e.closeYearPicker}},[e._v(" "+e._s(e.localeConfig.code==="ar"?"حسنا":"OK")+" ")])])])]):e._e()]),a("button",{staticClass:"calendar-header__btn",attrs:{type:"button","aria-label":e.isRTL?"Previous month":"Next month"},on:{click:function(r){return e.$emit("previous-month")}}},[e._v(" › ")]),a("button",{staticClass:"calendar-header__btn",attrs:{type:"button","aria-label":e.isRTL?"Previous year":"Next year"},on:{click:function(r){return e.$emit("previous-year")}}},[e._v(" » ")])]),a("div",{staticClass:"calendar-header__actions"})])},_=[],f=o(u,p,_,!1,null,"b15af06b");const g=f.exports,m={name:"CalendarGrid",props:{calendarMonth:{type:Object,required:!0},adapter:{type:Object,required:!0},locale:{type:Object,required:!0},selectedRange:{type:Object,default:null}},methods:{onDayClick(t){t.isDisabled||this.$emit("select-date",t)},formatDayLabel(t){return this.adapter.format(t.date,"dd MMMM yyyy",this.locale)},formatDayNumber(t){return n.formatNumber(t,this.locale)},isInRange(t){if(!this.selectedRange||!this.selectedRange.start||!this.selectedRange.end)return!1;const e=this.adapter.compare(t.date,this.selectedRange.start),a=this.adapter.compare(t.date,this.selectedRange.end);return e>0&&a<0},isRangeStart(t){return!this.selectedRange||!this.selectedRange.start?!1:this.adapter.isSameDay(t.date,this.selectedRange.start)},isRangeEnd(t){return!this.selectedRange||!this.selectedRange.end?!1:this.adapter.isSameDay(t.date,this.selectedRange.end)}}};var y=function(){var e=this,a=e._self._c;return a("div",{staticClass:"calendar-grid",attrs:{role:"grid"}},[a("div",{staticClass:"calendar-grid__weekdays",attrs:{role:"row"}},e._l(e.calendarMonth.weekdayLabels,function(r,s){return a("div",{key:s,staticClass:"calendar-grid__weekday",attrs:{role:"columnheader"}},[e._v(" "+e._s(r)+" ")])}),0),a("div",{staticClass:"calendar-grid__weeks"},e._l(e.calendarMonth.weeks,function(r,s){return a("div",{key:s,staticClass:"calendar-grid__week",attrs:{role:"row"}},e._l(r,function(i,d){return a("button",{key:d,staticClass:"calendar-grid__day",class:{"calendar-grid__day--current-month":i.isCurrentMonth,"calendar-grid__day--other-month":!i.isCurrentMonth,"calendar-grid__day--today":i.isToday,"calendar-grid__day--selected":i.isSelected,"calendar-grid__day--in-range":e.isInRange(i),"calendar-grid__day--range-start":e.isRangeStart(i),"calendar-grid__day--range-end":e.isRangeEnd(i),"calendar-grid__day--disabled":i.isDisabled},attrs:{type:"button","aria-label":e.formatDayLabel(i),"aria-selected":i.isSelected,disabled:i.isDisabled,role:"gridcell"},on:{click:function(h){return e.onDayClick(i)}}},[e._v(" "+e._s(e.formatDayNumber(i.date.day))+" ")])}),0)}),0),a("div",{staticClass:"calendar-header__actions"},[a("button",{staticClass:"calendar-header__btn calendar-header__btn--today",attrs:{type:"button"},on:{click:function(r){return e.$emit("today")}}},[e._v(" "+e._s(e.locale.code=="ar"?"اليوم":"Today")+" ")])])])},C=[],v=o(m,y,C,!1,null,null);const b=v.exports,k={name:"DualDatePicker",components:{CalendarHeader:g,CalendarGrid:b},props:{value:{type:[Object,Array],default:null},calendar:{type:String,default:"gregorian"},locale:{type:String,default:"en"},range:{type:Boolean,default:!1},time:{type:Boolean,default:!1},placeholder:{type:String,default:"Select date"},ariaLabel:{type:String,default:"Date picker"},clearable:{type:Boolean,default:!0},format:{type:String,default:"dd/MM/yyyy"},inputFormat:{type:String,default:null},editable:{type:Boolean,default:!1},minDate:{type:Object,default:null},maxDate:{type:Object,default:null},disabledDates:{type:Array,default:()=>[]},disabledDaysOfWeek:{type:Array,default:()=>[]},inputClass:{type:String,default:""}},data(){return{selectedDate:this.range?null:this.value,selectedRange:this.range?this.value||{start:null,end:null}:null,isOpen:!1,calendarType:this.calendar,localeCode:this.locale,viewMonth:null,viewYear:null,inputValue:"",inputError:!1}},computed:{adapter(){return this.calendarType==="hijri"?new n.HijriAdapter:new n.GregorianAdapter},localeConfig(){return n.getLocale(this.localeCode)},today(){return this.adapter.today()},currentMonth(){return this.viewMonth!==null?this.viewMonth:this.selectedDate?this.selectedDate.month:this.today.month},currentYear(){return this.viewYear!==null?this.viewYear:this.selectedDate?this.selectedDate.year:this.today.year},currentMonthName(){return this.adapter.getMonthName(this.currentMonth,this.localeConfig)},calendarMonth(){return this.inputFormat||this.format,n.generateCalendarMonth(this.currentYear,this.currentMonth,this.adapter,this.localeConfig,this.range?null:this.selectedDate,void 0,{selectedRange:this.range?this.selectedRange:void 0,minDate:this.minDate,maxDate:this.maxDate,disabledDates:this.disabledDates,disabledDaysOfWeek:this.disabledDaysOfWeek})},formattedDate(){if(this.range){if(!this.selectedRange||!this.selectedRange.start&&!this.selectedRange.end)return"";if(this.selectedRange.start&&this.selectedRange.end){const t=this.adapter.format(this.selectedRange.start,this.format,this.localeConfig),e=this.adapter.format(this.selectedRange.end,this.format,this.localeConfig);return`${t} - ${e}`}return this.selectedRange.start?this.adapter.format(this.selectedRange.start,this.format,this.localeConfig):""}return this.selectedDate?this.adapter.format(this.selectedDate,this.format,this.localeConfig):""},displayFormat(){return this.inputFormat||this.format}},watch:{value(t){this.range?t!==this.selectedRange&&(this.selectedRange=t||{start:null,end:null},this.updateInputValue(),t&&(t.start||t.end)&&(this.viewMonth=null,this.viewYear=null)):t!==this.selectedDate&&(this.selectedDate=t,this.updateInputValue(),t&&(this.viewMonth=null,this.viewYear=null))},calendar(t){t!==this.calendarType&&(this.calendarType=t)},locale(t){t!==this.localeCode&&(this.localeCode=t)},range(t){t?(this.selectedDate=null,this.selectedRange=this.value||{start:null,end:null}):(this.selectedRange=null,this.selectedDate=this.value),this.updateInputValue()},selectedDate(t){this.range||(this.$emit("input",t),this.$emit("change",t))},selectedRange:{handler(t){this.range&&(this.$emit("input",t),this.$emit("change",t))},deep:!0}},methods:{toggle(){this.isOpen=!this.isOpen},goToNextMonth(){const t=n.nextMonth(this.currentYear,this.currentMonth);this.updateView(t.year,t.month)},goToPreviousMonth(){const t=n.previousMonth(this.currentYear,this.currentMonth);this.updateView(t.year,t.month)},goToNextYear(){const t=n.nextYear(this.currentYear,this.currentMonth);this.updateView(t.year,t.month)},goToPreviousYear(){const t=n.previousYear(this.currentYear,this.currentMonth);this.updateView(t.year,t.month)},goToTodayMonth(){const t=this.adapter.today();this.validateDate(t)&&(this.range?this.selectedRange={start:t,end:t}:this.selectedDate=t,this.updateInputValue(),this.viewMonth=null,this.viewYear=null)},updateView(t,e){this.viewYear=t,this.viewMonth=e},updateCurrentDate(t,e){this.updateView(t,e)},onSelectDate(t){t.isDisabled||(this.range?!this.selectedRange.start||this.selectedRange.start&&this.selectedRange.end?this.selectedRange={start:t.date,end:null}:(this.adapter.compare(t.date,this.selectedRange.start)<0?this.selectedRange={start:t.date,end:this.selectedRange.start}:this.selectedRange={start:this.selectedRange.start,end:t.date},this.updateInputValue(),this.isOpen=!1):(this.selectedDate=t.date,this.updateInputValue(),this.viewMonth=null,this.viewYear=null,this.isOpen=!1))},updateInputValue(){this.editable&&(this.inputValue=this.formattedDate,this.inputError=!1)},onInputChange(t){this.editable&&(this.inputValue=t.target.value,this.inputError=!1)},onInputBlur(){this.editable&&this.parseInputValue()},onInputFocus(){this.editable&&this.$nextTick(()=>{const t=this.$el.querySelector(".dual-datepicker__input");t&&t.select()})},parseInputValue(){if(!this.editable||!this.inputValue.trim()){this.range?this.selectedRange={start:null,end:null}:this.selectedDate=null,this.inputError=!1;return}const t=this.displayFormat;let e;if(this.range){const a=this.inputValue.split(/[\s-–—]+/).filter(r=>r.trim());if(a.length===2){const r=this.adapter.parse(a[0].trim(),t,this.localeConfig),s=this.adapter.parse(a[1].trim(),t,this.localeConfig);if(r&&s&&this.validateDate(r)&&this.validateDate(s)){const i=this.adapter.compare(r,s);this.selectedRange=i<=0?{start:r,end:s}:{start:s,end:r},this.inputError=!1,this.updateInputValue();return}}this.inputError=!0}else e=this.adapter.parse(this.inputValue,t,this.localeConfig),e&&this.validateDate(e)?(this.selectedDate=e,this.inputError=!1,this.updateInputValue(),this.viewMonth=null,this.viewYear=null):this.inputError=!0},validateDate(t){if(!t||!this.adapter.isValid(t)||this.minDate&&this.adapter.compare(t,this.minDate)<0||this.maxDate&&this.adapter.compare(t,this.maxDate)>0||this.disabledDates.some(a=>this.adapter.isSameDay(a,t)))return!1;const e=this.adapter.getDayOfWeek(t);return!this.disabledDaysOfWeek.includes(e)},onCalendarChange(t){if(this.calendarType!==t)if(this.selectedDate){const e=this.adapter.toJsDate(this.selectedDate);this.calendarType=t;const a=this.calendarType==="hijri"?new n.HijriAdapter:new n.GregorianAdapter;this.selectedDate=a.fromJsDate(e),this.viewMonth=null,this.viewYear=null}else this.calendarType=t,this.viewMonth=null,this.viewYear=null},onLocaleChange(t){this.localeCode=t},onSelectMonth(t){this.updateView(this.currentYear,t)},onSelectYear(t){this.updateView(t,this.currentMonth)},clearDate(){this.range?this.selectedRange={start:null,end:null}:this.selectedDate=null,this.inputValue="",this.inputError=!1,this.viewMonth=null,this.viewYear=null},handleOutsideClick(t){const e=t.target.closest(".calendar-header__modal"),a=t.target.closest(".calendar-header__modal-content");e||a||this.$refs.datepicker&&!this.$refs.datepicker.contains(t.target)&&(this.isOpen=!1)}},mounted(){document.addEventListener("click",this.handleOutsideClick),this.updateInputValue()},beforeDestroy(){document.removeEventListener("click",this.handleOutsideClick)}};var D=function(){var e=this,a=e._self._c;return a("div",{ref:"datepicker",staticClass:"dual-datepicker"},[a("div",{staticClass:"dual-datepicker__input-wrapper"},[a("div",{staticClass:"dual-datepicker__input-container",style:{direction:e.localeConfig.direction}},[a("button",{staticClass:"dual-datepicker__toggle",class:{"dual-datepicker__toggle--rtl":e.localeConfig.direction==="rtl"},attrs:{type:"button","aria-label":e.isOpen?"Close calendar":"Open calendar"},on:{click:e.toggle}},[a("svg",{attrs:{version:"1.1",width:"16px",height:"16px",viewBox:"0 0 448 512",xmlns:"http://www.w3.org/2000/svg",fill:"#AAA"}},[a("path",{attrs:{d:`M436 160H12C5.4 160 0 154.6 0 148V112C0 85.5 21.5 64 48 64H96V12C96 5.4 101.4 0 108 0H148C154.6 0 160 5.4 160
            12V64H288V12C288 5.4 293.4 0 300 0H340C346.6 0 352 5.4 352 12V64H400C426.5 64 448 85.5 448 112V148C448 154.6
            442.6 160 436 160zM12 192H436C442.6 192 448 197.4 448 204V464C448 490.5 426.5 512 400 512H48C21.5 512 0 490.5 0
            464V204C0 197.4 5.4 192 12 192zM128 396C128 389.4 122.6 384 116 384H76C69.4 384 64 389.4 64 396V436C64 442.6 69.4
            448 76 448H116C122.6 448 128 442.6 128 436V396zM128 268C128 261.4 122.6 256 116 256H76C69.4 256 64 261.4 64
            268V308C64 314.6 69.4 320 76 320H116C122.6 320 128 314.6 128 308V268zM256 396C256 389.4 250.6 384 244
            384H204C197.4 384 192 389.4 192 396V436C192 442.6 197.4 448 204 448H244C250.6 448 256 442.6 256 436V396zM256
            268C256 261.4 250.6 256 244 256H204C197.4 256 192 261.4 192 268V308C192 314.6 197.4 320 204 320H244C250.6 320 256
            314.6 256 308V268zM384 396C384 389.4 378.6 384 372 384H332C325.4 384 320 389.4 320 396V436C320 442.6 325.4 448
            332 448H372C378.6 448 384 442.6 384 436V396zM384 268C384 261.4 378.6 256 372 256H332C325.4 256 320 261.4 320
            268V308C320 314.6 325.4 320 332 320H372C378.6 320 384 314.6 384 308V268z`}})])]),a("input",{staticClass:"dual-datepicker__input",class:{"dual-datepicker__input--has-clear":(e.selectedDate||e.range&&e.selectedRange)&&e.clearable,"dual-datepicker__input--error":e.inputError,"dual-datepicker__input--rtl":e.localeConfig.direction==="rtl","dual-datepicker__input--ltr":e.localeConfig.direction==="ltr",[e.inputClass]:e.inputClass},attrs:{type:"text",placeholder:e.placeholder,readonly:!e.editable,"aria-label":e.ariaLabel,"aria-expanded":e.isOpen,"aria-invalid":e.inputError},domProps:{value:e.editable?e.inputValue:e.formattedDate},on:{click:function(r){!e.editable&&e.toggle()},keydown:[function(r){if(!r.type.indexOf("key")&&e._k(r.keyCode,"enter",13,r.key,"Enter"))return null;!e.editable&&e.toggle()},function(r){if(!r.type.indexOf("key")&&e._k(r.keyCode,"space",32,r.key,[" ","Spacebar"]))return null;r.preventDefault(),!e.editable&&e.toggle()}],input:e.onInputChange,blur:e.onInputBlur,focus:e.onInputFocus}}),(e.selectedDate||e.range&&e.selectedRange)&&e.clearable?a("button",{staticClass:"dual-datepicker__clear",class:{"dual-datepicker__clear--rtl":e.localeConfig.direction==="rtl"},attrs:{type:"button","aria-label":"Clear date"},on:{click:function(r){return r.stopPropagation(),e.clearDate.apply(null,arguments)}}},[e._v(" × ")]):e._e()])]),e.isOpen?a("div",{staticClass:"dual-datepicker__dropdown",attrs:{role:"dialog","aria-modal":"true","aria-label":`${e.calendarType} calendar picker`}},[a("div",{staticClass:"dual-datepicker__panel"},[a("CalendarHeader",{attrs:{"month-name":e.currentMonthName,year:e.currentYear,"current-month":e.currentMonth,calendar:e.calendarType,locale:e.localeCode},on:{"previous-month":e.goToPreviousMonth,"next-month":e.goToNextMonth,"previous-year":e.goToPreviousYear,"next-year":e.goToNextYear,today:e.goToTodayMonth,"update:calendar":e.onCalendarChange,"update:locale":e.onLocaleChange,"select-month":e.onSelectMonth,"select-year":e.onSelectYear}}),a("CalendarGrid",{attrs:{"calendar-month":e.calendarMonth,adapter:e.adapter,locale:e.localeConfig,"selected-range":e.range?e.selectedRange:null},on:{"select-date":e.onSelectDate,today:e.goToTodayMonth}})],1)]):e._e()])},M=[],w=o(k,D,M,!1,null,null);const c=w.exports,R={install(t){t.component("DualDatePicker",c)}};exports.DualDatePicker=c;exports.default=R;
//# sourceMappingURL=index.cjs.map
